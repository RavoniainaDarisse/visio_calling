<main>
  <header class="header">
    <div class="header-content">
      <!-- Logo amélioré -->
      <a class="logo" routerLink="/">
        <div class="logo-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M23 7L16 12L23 17V7Z" fill="currentColor"/>
            <rect x="1" y="5" width="15" height="14" rx="2" fill="currentColor"/>
          </svg>
        </div>
        <span class="logo-text">VisioConnect</span>
      </a>
  
      <!-- Navigation -->
      <nav class="nav">
        <!-- Menu de navigation principal -->
        <ul class="nav-links">
          <li><a href="#features">Fonctionnalités</a></li>
          <li><a href="#pricing">Tarifs</a></li>
          <li><a href="#support">Support</a></li>
          <li><a href="#about">À propos</a></li>
        </ul>
  
        <!-- Actions utilisateur -->
        <div class="nav-actions">
          <!-- Liens conditionnels basés sur l'état de connexion -->
          <ng-container *ngIf="isLoggedIn(); else notLoggedIn">

            <ul class="nav-links">
              <li><a  routerLink="/message">Messages</a></li>
              <li><a  routerLink="/video">Video</a></li>
              
            </ul>
            <!-- Menu utilisateur connecté -->
            <div class="user-menu">
              <div class="user-info">
                <div class="user-avatar">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M20 21V19C20 17.9 19.1 17 18 17H6C4.9 17 4 17.9 4 19V21" stroke="currentColor" stroke-width="2"/>
                    <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </div>
                <span class="user-name">Utilisateur</span>
              </div>
              <button class="btn-logout" (click)="logout()">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <path d="M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9" stroke="currentColor" stroke-width="2"/>
                  <polyline points="16,17 21,12 16,7" stroke="currentColor" stroke-width="2"/>
                  <line x1="21" y1="12" x2="9" y2="12" stroke="currentColor" stroke-width="2"/>
                </svg>
                Déconnexion
              </button>
            </div>
          </ng-container>
  
          <!-- Bloc pour les utilisateurs non connectés -->
          <ng-template #notLoggedIn>
            <a routerLink="/inscription" class="btn-secondary">Inscription</a>
            <a routerLink="/connexion" class="btn-primary">Se connecter</a>
          </ng-template>
        </div>
  
        <!-- Menu mobile toggle -->
        <button class="mobile-menu-toggle">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>
      </nav>
    </div>
  </header>
  <router-outlet />
</main>
